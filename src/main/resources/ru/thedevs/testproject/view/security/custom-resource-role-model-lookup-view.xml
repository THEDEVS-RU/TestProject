<view xmlns="http://jmix.io/schema/flowui/view"
      title="Роли"
      focusComponent="entitiesTree">

    <data>
        <collection id="entitiesDc"
                    class="ru.thedevs.testproject.dto.RoleTreeNode"/>
    </data>

    <facets>
        <settings auto="true"/>
    </facets>

    <actions>
        <action id="selectAction" type="lookup_select"/>
        <action id="discardAction" type="lookup_discard"/>
    </actions>

    <layout expand="entitiesTree">

        <textField id="nameFilter"
                   placeholder="Поиск по имени роли..."
                   width="100%"/>

        <comboBox id="categoryFilter"
                  placeholder="Категория"
                  clearButtonVisible="true"
                  width="100%"/>

        <treeDataGrid id="entitiesTree"
                      dataContainer="entitiesDc"
                      hierarchyProperty="parent"
                      selectionMode="MULTI"
                      columnReorderingAllowed="true"
                      width="100%"
                      minHeight="30em">
            <columns resizable="true">
                <column property="enabled" header="Вкл" editable="true"/>
                <column property="name" header="Название" flexGrow="2"/>
                <column property="category" header="Категория" editable="true"/>
            </columns>
        </treeDataGrid>

        <hbox id="lookupActions" visible="false">
            <button id="selectBtn" action="selectAction"/>
            <button id="discardBtn" action="discardAction"/>
        </hbox>
    </layout>
</view>
