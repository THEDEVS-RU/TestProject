<view xmlns="http://jmix.io/schema/flowui/view"
      title="Роли"
      focusComponent="entitiesTree">

    <data>
        <collection id="entitiesDc"
                    class="ru.thedevs.testproject.dto.RoleTreeNode"/>
    </data>

    <actions>
        <action id="selectAction" type="lookup_select"/>
        <action id="discardAction" type="lookup_discard"/>
    </actions>

    <layout expand="entitiesTree">

        <hbox spacing="true" width="100%">
            <textField id="nameFilter"
                       placeholder="Поиск по имени роли..."
                       width="100%"
                       valueChangeMode="EAGER"
                       valueChangeTimeout="200"
                       clearButtonVisible="true"/>
        </hbox>


        <hbox spacing="true" width="100%">
            <comboBox id="categoryFilter"
                     placeholder="Категория"
                     clearButtonVisible="true"
                     width="100%"/>
        </hbox>

        <treeDataGrid id="entitiesTree"
                      dataContainer="entitiesDc"
                      hierarchyProperty="parent"
                      selectionMode="MULTI"
                      columnReorderingAllowed="true"
                      width="100%"
                      minHeight="30em"/>
        <hbox id="lookupActions" visible="false">
            <button id="selectBtn" action="selectAction"/>
            <button id="discardBtn" action="discardAction"/>
        </hbox>
    </layout>
</view>
